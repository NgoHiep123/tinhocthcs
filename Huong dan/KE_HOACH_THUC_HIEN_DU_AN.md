# ğŸ“‹ Káº¾ HOáº CH THá»°C HIá»†N Dá»° ÃN - THá»¨ Tá»° Æ¯U TIÃŠN

## ğŸ¯ CÃ‚U Há»I: THU THáº¬P Dá»® LIá»†U HAY XÃ‚Y Dá»°NG KNOWLEDGE GRAPH TRÆ¯á»šC?

### âœ… **TRÃŒNH Tá»° ÄÃšNG:**

```
1. THU THáº¬P Dá»® LIá»†U Káº¾T QUáº¢ Tá»ª WEB (TRÆ¯á»šC) â† Báº®T Äáº¦U Táº I ÄÃ‚Y
   â””â”€ LÃ½ do: Cáº§n dá»¯ liá»‡u THá»°C Ä‘á»ƒ xÃ¢y dá»±ng KG
   
2. XÃ‚Y Dá»°NG KNOWLEDGE GRAPH
   â””â”€ LÃ½ do: KG cáº§n dá»¯ liá»‡u lÃ m Ä‘áº§u vÃ o
   
3. CHáº Y THUáº¬T TOÃN KNN/PPR
   â””â”€ LÃ½ do: Cáº§n KG Ä‘Ã£ cÃ³ dá»¯ liá»‡u
   
4. TRUY Váº¤N VÃ€ PHÃ‚N TÃCH
   â””â”€ LÃ½ do: CÃ³ káº¿t quáº£ tá»« KNN/PPR
```

---

## ğŸ“Š Táº I SAO PHáº¢I THU THáº¬P Dá»® LIá»†U TRÆ¯á»šC?

### ğŸ” **Knowledge Graph cáº§n dá»¯ liá»‡u gÃ¬?**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  KNOWLEDGE GRAPH Cáº¦N 5 LOáº I Dá»® LIá»†U:                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. âœ… Há»c sinh (students.json) â† ÄÃƒ CÃ“                â”‚
â”‚  2. âœ… BÃ i há»c (CSV cÃ¢u há»i) â† ÄÃƒ CÃ“                   â”‚
â”‚  3. âœ… Ká»¹ nÄƒng (skills.csv) â† ÄÃƒ CÃ“                    â”‚
â”‚  4. âŒ Káº¾T QUáº¢ Há»ŒC SINH â† CHÆ¯A CÃ“ (cáº§n thu tháº­p)      â”‚
â”‚  5. âŒ ÄIá»‚M MASTERY â† CHÆ¯A CÃ“ (tÃ­nh tá»« káº¿t quáº£)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**âš ï¸ KhÃ´ng cÃ³ dá»¯ liá»‡u káº¿t quáº£ â†’ KhÃ´ng cháº¡y Ä‘Æ°á»£c KNN/PPR!**

---

## ğŸ—ºï¸ ROADMAP CHI TIáº¾T (4 GIAI ÄOáº N)

### ğŸ“ **GIAI ÄOáº N 1: THU THáº¬P Dá»® LIá»†U** (1-2 tuáº§n) â† Báº®T Äáº¦U Táº I ÄÃ‚Y

#### ğŸ¯ Má»¥c tiÃªu:
Thu tháº­p káº¿t quáº£ lÃ m bÃ i cá»§a há»c sinh tá»« website

#### âœ… CÃ´ng viá»‡c:

**Tuáº§n 1: Setup há»‡ thá»‘ng lÆ°u káº¿t quáº£**
- [ ] Chá»n giáº£i phÃ¡p: PHP API hoáº·c Firebase (theo `CHON_GIAI_PHAP_NÃ€O.md`)
- [ ] Deploy backend (API/Firebase)
- [ ] Cáº­p nháº­t táº¥t cáº£ file HTML
- [ ] Test vá»›i 5-10 há»c sinh thá»­ nghiá»‡m
- [ ] Sá»­a lá»—i náº¿u cÃ³

**Tuáº§n 2: Thu tháº­p dá»¯ liá»‡u thá»±c**
- [ ] Cho há»c sinh lÃ m bÃ i trÃªn website
- [ ] Theo dÃµi dá»¯ liá»‡u vÃ o database
- [ ] Äáº£m báº£o cÃ³ Ã­t nháº¥t:
  - âœ… 100 há»c sinh
  - âœ… 10 bÃ i quiz
  - âœ… 500+ lÆ°á»£t lÃ m bÃ i (cÃ ng nhiá»u cÃ ng tá»‘t)

#### ğŸ“Š Dá»¯ liá»‡u cáº§n cÃ³:

```sql
-- Báº£ng quiz_results cáº§n cÃ³ Ã­t nháº¥t 500 dÃ²ng
SELECT COUNT(*) FROM quiz_results;  -- Má»¥c tiÃªu: >= 500

-- PhÃ¢n bá»‘ theo há»c sinh
SELECT student_name, COUNT(*) as attempts 
FROM quiz_results 
GROUP BY student_name;  -- Má»—i HS lÃ m Ã­t nháº¥t 3-5 bÃ i

-- PhÃ¢n bá»‘ theo bÃ i quiz
SELECT quiz_id, COUNT(*) as attempts 
FROM quiz_results 
GROUP BY quiz_id;  -- Má»—i bÃ i cÃ³ Ã­t nháº¥t 30-50 lÆ°á»£t
```

#### ğŸ“¤ Output:
- `quiz_results.csv` hoáº·c database MySQL vá»›i dá»¯ liá»‡u Ä‘áº§y Ä‘á»§

---

### ğŸ“ **GIAI ÄOáº N 2: XÃ‚Y Dá»°NG KNOWLEDGE GRAPH** (1 tuáº§n)

#### ğŸ¯ Má»¥c tiÃªu:
XÃ¢y dá»±ng KG tá»« dá»¯ liá»‡u Ä‘Ã£ thu tháº­p

#### âœ… CÃ´ng viá»‡c:

**BÆ°á»›c 1: Chuáº©n bá»‹ dá»¯ liá»‡u**
```bash
cd KG_Design/grade6

# 1. Export káº¿t quáº£ tá»« database/Firebase
python export_results_to_csv.py
# Output: student_assessment.csv

# 2. TÃ­nh student mastery tá»« káº¿t quáº£
python build_student_mastery.py
# Output: student_mastery.csv

# 3. Kiá»ƒm tra dá»¯ liá»‡u
python validate_data.py
```

**BÆ°á»›c 2: Build Knowledge Graph**
```bash
# Táº¡o file TTL tá»« CSV
python export_ttl.py

# Kiá»ƒm tra cÃ¡c file TTL
ls out/
# â†’ skills.ttl
# â†’ resources.ttl
# â†’ students.ttl
# â†’ student_mastery.ttl
# â†’ prerequisites.ttl
```

**BÆ°á»›c 3: Import vÃ o GraphDB**
```bash
# CÃ¡ch 1: GraphDB Desktop (dá»… nháº¥t)
1. Má»Ÿ GraphDB Desktop
2. Create Repository: "tinhoc321_grade6"
3. Import â†’ Chá»n táº¥t cáº£ file .ttl trong out/
4. Import

# CÃ¡ch 2: Script (tá»± Ä‘á»™ng)
python import_to_graphdb.py
```

#### ğŸ“Š Kiá»ƒm tra KG:

```sparql
# Query 1: Äáº¿m sá»‘ entities
PREFIX edu: <http://education.vn/ontology#>

SELECT (COUNT(?s) as ?total) WHERE {
  ?s ?p ?o
}
# Ká»³ vá»ng: >5000 triples

# Query 2: Äáº¿m há»c sinh cÃ³ káº¿t quáº£
SELECT (COUNT(DISTINCT ?student) as ?total) WHERE {
  ?student edu:hasMastery ?mastery
}
# Ká»³ vá»ng: >= 100 há»c sinh

# Query 3: Kiá»ƒm tra dá»¯ liá»‡u mastery
SELECT ?student ?skill ?score WHERE {
  ?student edu:fullName ?name .
  ?mastery edu:student ?student .
  ?mastery edu:skill ?skill .
  ?mastery edu:masteryScore ?score .
}
LIMIT 20
```

#### ğŸ“¤ Output:
- Knowledge Graph Ä‘áº§y Ä‘á»§ trong GraphDB
- File backup: `kg_grade6_full.ttl`

---

### ğŸ“ **GIAI ÄOáº N 3: CHáº Y THUáº¬T TOÃN ML** (3-5 ngÃ y)

#### ğŸ¯ Má»¥c tiÃªu:
PhÃ¡t hiá»‡n há»c sinh yáº¿u (KNN) vÃ  gá»£i Ã½ tÃ i nguyÃªn (PPR)

#### âœ… CÃ´ng viá»‡c:

**BÆ°á»›c 1: Cháº¡y KNN**
```bash
cd ML_Algorithms

python knn_student_analysis.py

# Output:
# - weak_students.csv (danh sÃ¡ch HS yáº¿u)
# - kg_with_knn.ttl (KG + káº¿t quáº£ KNN)
```

**Kiá»ƒm tra káº¿t quáº£ KNN:**
```python
import pandas as pd

df = pd.read_csv('weak_students.csv')
print(f"Sá»‘ há»c sinh yáº¿u: {len(df)}")
print(df.head(10))

# VÃ­ dá»¥ output:
#   student_name  | weak_skill        | avg_score | prediction
#   Nguyá»…n VÄƒn A  | k6_b3_ket_noi_mang| 4.2       | 0.92
```

**BÆ°á»›c 2: Cháº¡y PPR**
```bash
python ppr_recommendation.py

# Output:
# - recommendations.csv (gá»£i Ã½ cho tá»«ng HS)
# - kg_with_ppr.ttl (KG + káº¿t quáº£ PPR)
```

**Kiá»ƒm tra káº¿t quáº£ PPR:**
```python
df = pd.read_csv('recommendations.csv')
print(df.head())

# VÃ­ dá»¥ output:
#   student_name  | quiz_id | resource_name           | ppr_score
#   Nguyá»…n VÄƒn A  | K6_B3   | BÃ i há»c máº¡ng cÃ³ dÃ¢y     | 0.0234
```

#### ğŸ“Š ÄÃ¡nh giÃ¡ mÃ´ hÃ¬nh:

```python
# ÄÃ¡nh giÃ¡ KNN
from sklearn.metrics import accuracy_score, precision_score

# Test trÃªn 20% dá»¯ liá»‡u
accuracy = accuracy_score(y_test, y_pred)
precision = precision_score(y_test, y_pred)

print(f"KNN Accuracy: {accuracy:.2%}")  # Ká»³ vá»ng: >80%
print(f"KNN Precision: {precision:.2%}") # Ká»³ vá»ng: >75%
```

#### ğŸ“¤ Output:
- Danh sÃ¡ch há»c sinh yáº¿u
- Danh sÃ¡ch gá»£i Ã½ tÃ i nguyÃªn
- KG Ä‘áº§y Ä‘á»§ vá»›i thÃ´ng tin KNN/PPR

---

### ğŸ“ **GIAI ÄOáº N 4: TRUY Váº¤N & DASHBOARD** (3-5 ngÃ y)

#### ğŸ¯ Má»¥c tiÃªu:
Táº¡o dashboard cho giÃ¡o viÃªn xem káº¿t quáº£

#### âœ… CÃ´ng viá»‡c:

**BÆ°á»›c 1: CÃ¡c truy váº¥n SPARQL quan trá»ng**

```sparql
# Query 1: Top há»c sinh yáº¿u nháº¥t
PREFIX edu: <http://education.vn/ontology#>

SELECT ?name ?skill ?score
WHERE {
  ?student edu:fullName ?name .
  ?student edu:weakInTopic ?skill .
  ?mastery edu:student ?student .
  ?mastery edu:skill ?skill .
  ?mastery edu:masteryScore ?score .
}
ORDER BY ?score
LIMIT 10
```

```sparql
# Query 2: Gá»£i Ã½ cho má»™t há»c sinh cá»¥ thá»ƒ
PREFIX edu: <http://education.vn/ontology#>

SELECT ?resource ?resourceName ?pprScore
WHERE {
  ?student edu:fullName "Nguyá»…n VÄƒn A" .
  ?resource edu:recommendedFor ?student .
  ?resource rdfs:label ?resourceName .
  ?resource edu:pprScore ?pprScore .
}
ORDER BY DESC(?pprScore)
LIMIT 5
```

```sparql
# Query 3: Thá»‘ng kÃª theo lá»›p
SELECT ?className (AVG(?score) as ?avgScore)
WHERE {
  ?class edu:className ?className .
  ?student edu:belongsToClass ?class .
  ?mastery edu:student ?student .
  ?mastery edu:masteryScore ?score .
}
GROUP BY ?className
ORDER BY ?avgScore
```

**BÆ°á»›c 2: Táº¡o Dashboard**

```bash
# Cáº­p nháº­t Web_Teacher/dashboard.html
# TÃ­ch há»£p vá»›i GraphDB API hoáº·c query results
```

#### ğŸ“¤ Output:
- Dashboard giÃ¡o viÃªn hoÃ n chá»‰nh
- BÃ¡o cÃ¡o há»c sinh yáº¿u
- Gá»£i Ã½ can thiá»‡p

---

## ğŸ“Š TIMELINE Tá»”NG THá»‚

```
Tuáº§n 1-2:  THU THáº¬P Dá»® LIá»†U â† Báº®T Äáº¦U
           â””â”€ Setup API/Firebase
           â””â”€ Há»c sinh lÃ m bÃ i
           â””â”€ Thu tháº­p 500+ results
           
Tuáº§n 3:    XÃ‚Y Dá»°NG KG
           â””â”€ Chuáº©n bá»‹ dá»¯ liá»‡u
           â””â”€ Build & import KG
           â””â”€ Validate KG
           
Tuáº§n 4:    CHáº Y ML
           â””â”€ KNN â†’ PhÃ¡t hiá»‡n HS yáº¿u
           â””â”€ PPR â†’ Gá»£i Ã½ tÃ i nguyÃªn
           â””â”€ ÄÃ¡nh giÃ¡ mÃ´ hÃ¬nh
           
Tuáº§n 5:    DASHBOARD & BÃO CÃO
           â””â”€ Truy váº¥n SPARQL
           â””â”€ Dashboard giÃ¡o viÃªn
           â””â”€ Viáº¿t bÃ¡o cÃ¡o luáº­n vÄƒn
```

**â±ï¸ Tá»•ng thá»i gian: 4-5 tuáº§n**

---

## âš ï¸ Váº¤N Äá»€ QUAN TRá»ŒNG

### ğŸ”´ **Náº¿u chÆ°a cÃ³ dá»¯ liá»‡u káº¿t quáº£:**

```
âŒ KHÃ”NG THá»‚:
   - XÃ¢y dá»±ng KG Ä‘áº§y Ä‘á»§ (thiáº¿u student_mastery)
   - Cháº¡y KNN (khÃ´ng cÃ³ dá»¯ liá»‡u Ä‘iá»ƒm)
   - Cháº¡y PPR (khÃ´ng biáº¿t HS nÃ o yáº¿u)
   - Táº¡o dashboard cÃ³ Ã½ nghÄ©a
   
âœ… CHá»ˆ CÃ“ THá»‚:
   - XÃ¢y dá»±ng KG "skeleton" (chá»‰ cÃ³ skills, resources)
   - Viáº¿t code KNN/PPR (nhÆ°ng khÃ´ng test Ä‘Æ°á»£c)
   - Táº¡o dashboard demo (vá»›i dá»¯ liá»‡u giáº£)
```

### ğŸŸ¢ **Náº¿u Ä‘Ã£ cÃ³ dá»¯ liá»‡u káº¿t quáº£:**

```
âœ… CÃ“ THá»‚:
   - XÃ¢y dá»±ng KG hoÃ n chá»‰nh
   - Cháº¡y KNN vá»›i dá»¯ liá»‡u thá»±c
   - Cháº¡y PPR vá»›i káº¿t quáº£ KNN thá»±c
   - Táº¡o dashboard vá»›i insights thá»±c táº¿
   - Viáº¿t luáº­n vÄƒn vá»›i káº¿t quáº£ cÃ³ Ã½ nghÄ©a
```

---

## ğŸ¯ KHUYáº¾N NGHá»Š Cá»¦A TÃ”I

### ğŸ“‹ **HÃ€NH Äá»˜NG NGAY Láº¬P Tá»¨C:**

#### **Option 1: CÃ³ há»c sinh sáºµn sÃ ng lÃ m bÃ i** (LÃ½ tÆ°á»Ÿng)

```bash
# NGÃ€Y 1-3: Setup há»‡ thá»‘ng
1. Chá»n giáº£i phÃ¡p lÆ°u káº¿t quáº£ (PHP API recommended)
2. Deploy backend
3. Cáº­p nháº­t file HTML
4. Test ká»¹ vá»›i 3-5 há»c sinh

# NGÃ€Y 4-14: Thu tháº­p dá»¯ liá»‡u
1. Cho há»c sinh lÃ m bÃ i (3-5 bÃ i/ngÆ°á»i)
2. Theo dÃµi dá»¯ liá»‡u
3. Má»¥c tiÃªu: 100 HS Ã— 5 bÃ i = 500 results

# SAU ÄÃ“: XÃ¢y dá»±ng KG + ML
```

#### **Option 2: ChÆ°a cÃ³ há»c sinh** (DÃ¹ng dá»¯ liá»‡u cÃ³ sáºµn)

```bash
# Báº¡n ÄÃƒ CÃ“:
- students_grade_data.json (898 há»c sinh vá»›i Ä‘iá»ƒm)
- result_thcs.xlsx (cÃ³ váº» lÃ  káº¿t quáº£ cÅ©)

# NGAY BÃ‚Y GIá»œ:
1. Chuyá»ƒn Ä‘á»•i dá»¯ liá»‡u cÅ© sang format má»›i
2. Import vÃ o database
3. Tiáº¿p tá»¥c vá»›i Giai Ä‘oáº¡n 2 (Build KG)

# Script:
python scripts/convert_old_results.py
```

---

## ğŸ” KIá»‚M TRA Dá»® LIá»†U CÃ“ Sáº´N

Äá»ƒ tÃ´i xem báº¡n Ä‘Ã£ cÃ³ dá»¯ liá»‡u gÃ¬:

```bash
# Kiá»ƒm tra file cÃ³ sáºµn
ls -lh students_grade_data.json
ls -lh result_thcs.xlsx

# Náº¿u cÃ³, Ä‘á»c ná»™i dung:
python -c "
import json
with open('students_grade_data.json', 'r', encoding='utf-8') as f:
    data = json.load(f)
    print(f'Sá»‘ há»c sinh: {len(data)}')
    print(f'Sample: {data[0]}')
"
```

---

## ğŸ’¡ Káº¾ HOáº CH Káº¾T Há»¢P

### **PHÆ¯Æ NG ÃN Tá»I Æ¯U:**

```
SONG SONG:

Track 1 (Backend):          Track 2 (KG Research):
â”œâ”€ Tuáº§n 1-2: Setup API      â”œâ”€ NghiÃªn cá»©u GraphDB
â”œâ”€ Thu tháº­p dá»¯ liá»‡u         â”œâ”€ Thiáº¿t káº¿ schema
â””â”€ Äá»£i Ä‘á»§ 500 results       â”œâ”€ Viáº¿t script build KG
                            â””â”€ Test vá»›i dá»¯ liá»‡u máº«u

Káº¾T Há»¢P Tuáº§n 3:
â””â”€ Build KG vá»›i dá»¯ liá»‡u THá»°C tá»« Track 1
```

---

## ğŸ¯ Káº¾T LUáº¬N

### âœ… **TRÃCH NHIá»†M NGAY BÃ‚Y GIá»œ:**

```
1. THU THáº¬P Dá»® LIá»†U Káº¾T QUáº¢ TRÆ¯á»šC â† Æ¯U TIÃŠN Sá» 1
   
   LÃ½ do:
   - KhÃ´ng cÃ³ dá»¯ liá»‡u â†’ KG khÃ´ng cÃ³ giÃ¡ trá»‹
   - KNN/PPR cáº§n dá»¯ liá»‡u thá»±c Ä‘á»ƒ validate
   - Luáº­n vÄƒn cáº§n káº¿t quáº£ thá»±c táº¿
   
2. XÃ‚Y Dá»°NG KG SAU
   
   LÃ½ do:
   - Cáº§n dá»¯ liá»‡u tá»« bÆ°á»›c 1
   - CÃ³ thá»ƒ nghiÃªn cá»©u song song nhÆ°ng build sau
```

---

## ğŸ“ BÆ¯á»šC TIáº¾P THEO

Báº¡n cho tÃ´i biáº¿t:

1. **Báº¡n cÃ³ há»c sinh sáºµn sÃ ng lÃ m bÃ i khÃ´ng?**
   - âœ… CÃ³ â†’ Setup API ngay
   - âŒ ChÆ°a â†’ DÃ¹ng dá»¯ liá»‡u cÅ© (students_grade_data.json)

2. **Báº¡n Ä‘Ã£ cÃ³ dá»¯ liá»‡u káº¿t quáº£ cÅ© khÃ´ng?**
   - Kiá»ƒm tra: `result_thcs.xlsx`
   - Náº¿u cÃ³ â†’ TÃ´i viáº¿t script chuyá»ƒn Ä‘á»•i

3. **Báº¡n muá»‘n báº¯t Ä‘áº§u tá»« Ä‘Ã¢u?**
   - Option A: Setup API thu tháº­p dá»¯ liá»‡u má»›i
   - Option B: Chuyá»ƒn Ä‘á»•i dá»¯ liá»‡u cÅ© sang KG
   - Option C: Cáº£ hai song song

TÃ´i sáº½ há»— trá»£ chi tiáº¿t tÃ¹y theo lá»±a chá»n cá»§a báº¡n! ğŸš€

